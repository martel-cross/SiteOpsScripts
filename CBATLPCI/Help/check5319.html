<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<HTML DIR="LTR">

<HEAD>

<META HTTP-EQUIV="Content-Type" CONTENT="text-html; charset=Windows-1252">

<META NAME="MS-HAID" CONTENT="a_check5319">

<META NAME="MS.LOCALE" CONTENT="EN-US">

<META NAME="DESCRIPTION" LOCCONTENT="Auto Logon">

<TITLE>Microsoft Baseline Security Analyzer 2</TITLE>

<LINK REL="stylesheet" MEDIA="screen" TYPE="text/css" HREF="..\css\coUA.css">
<LINK REL="stylesheet" MEDIA="print" TYPE="text/css" HREF="..\css\coUAprint.css"> 
</HEAD>

<BODY>
<P CLASS="banner"><IMG SRC="../Graphics/banner.jpg" WIDTH="332" HEIGHT="51" alt="Microsoft Baseline Security Analyzer"></P>

<H1>Auto Logon</H1>

<H2>Check Description</H2>

<P>This check determines whether the Auto Logon feature is enabled on the scanned 
computer, and if the logon password is encrypted in the registry or stored in 
plaintext. If Auto Logon is enabled and the logon password is stored as 
plaintext, the security report reflects this as a high-level vulnerability. 
If Auto Logon is enabled and the password is encrypted in the registry, the 
security report reports this as a potential vulnerability.</P>

<P CLASS="note">Note</P>
<UL>
    <LI>If you get the message "Error Reading Registry," the Remote Registry service might not be enabled.</LI>
</UL>

<P>Auto Logon stores your logon name and password in the registry, allowing you to automatically log on to <NOLOC>Microsoft&reg; Windows&reg; Server&nbsp;2008</NOLOC>, <NOLOC>Microsoft&reg; Windows&reg; Server&nbsp;2003</NOLOC>, <NOLOC>Windows&nbsp;Vista</NOLOC>, <NOLOC>Windows&nbsp;XP</NOLOC> 
or
<NOLOC>Windows&nbsp;2000</NOLOC> without typing your user name or password in the logon user interface. However, Auto Logon could also enable other users to access your files and use your name to commit malicious acts on the system. (For example, anyone with physical access to the computer can boot the operating system and automatically be logged on.) If you have Auto Logon enabled and you do not want to change it, make sure that you do not store any sensitive information on the computer.</P>
      
<P>You can store the password that you use for automatic logon as plaintext in the 
registry or you can encrypt it as a Local Security Authority (LSA) secret.</P>

<H2>Additional Information</H2>

<P>The credentials used to log on by default during automatic logon are located 
under the following registry key:</P>

<PRE><CODE>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\<NOLOC>Windows&nbsp;NT</NOLOC>\CurrentVersion\Winlogon</CODE></PRE> 

<P><B><NOLOC>AutoAdminLogon REG_SZ</NOLOC> </B><i>0</i> or <i>1</i> - Must be zero to remove this feature.</P> 

<P>When you use <B><NOLOC>AutoAdminLogon</NOLOC></B>, <NOLOC>Windows</NOLOC> automatically logs on the specified user when the system is started, bypassing the CTRL+ALT+DEL logon dialog box. This is a serious security problem because anyone can gain access to your computer.</P>      
          
<P><B><NOLOC>DefaultUserName REG_SZ</NOLOC> </B><I>Username</I></P> 

<P><B><NOLOC>DefaultPassword REG_SZ</NOLOC> </B><I>Password</I></P> 

<P>Specifies the password for the user listed under <B><NOLOC>DefaultUserName</NOLOC></B>.</P> 

<P>If the password that you use for automatic logon is stored programmatically by using the <NOLOC>LsaStorePrivateData</NOLOC> API, it is encrypted and stored under the following 
registry keys:</P> 

<PRE><CODE>HKEY_LOCAL_MACHINE\SECURITY\Policy\Secrets\DefaultPassword\CurrVal<BR>
HKEY_LOCAL_MACHINE\SECURITY\Policy\Secrets\DefaultPassword\OldVal</CODE></PRE>

<P>By encrypting the password as an LSA secret, you prevent remote users from 
reading a plaintext password that is stored under the <B><NOLOC>Winlogon</NOLOC></B> registry key. However, anyone with physical access to the computer can boot the system and automatically log on, whether the password is encrypted or in plaintext, which poses a 
security risk.</P> 

<BR>
<P><FONT SIZE="-2"><NOLOC>&copy;</NOLOC>2002-2007 <NOLOC>Microsoft Corporation</NOLOC>. All rights reserved.</FONT></P>

</BODY>
</HTML>